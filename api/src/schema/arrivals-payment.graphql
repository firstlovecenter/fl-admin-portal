extend type Stream {
  vehiclesToBePaidCount: Int!
    @cypher(
      statement: """
      MATCH (this)-[:HAS*3]->(bacentas:Active:Bacenta)
      MATCH (bacentas)-[:HAS_HISTORY]->(:ServiceLog)-[:HAS_BUSSING]->(bussing:BussingRecord)-[:BUSSED_ON]->(date:TimeGraph)
      WHERE date.date = date()
      MATCH (bussing)-[:INCLUDES_RECORD]->(record:VehicleRecord)
        WHERE record.vehicleTopUp > 0 AND record.transactionStatus IS NULL
      WITH DISTINCT record
      RETURN COUNT(record)
      """
    )
  bacentasToBePaid: [Bacenta!]!
    @cypher(
      statement: """
      MATCH (this)-[:HAS*3]->(bacentas:Active:Bacenta)
      MATCH (bacentas)-[:HAS_HISTORY]->(:ServiceLog)-[:HAS_BUSSING]->(bussing:BussingRecord)-[:BUSSED_ON]->(date:TimeGraph)
      WHERE date.date = date()
      MATCH (bussing)-[:INCLUDES_RECORD]->(record:VehicleRecord)
        WHERE record.vehicleTopUp > 0 AND record.transactionStatus IS NULL
      WITH DISTINCT bacentas
      RETURN bacentas
      """
    )
}
